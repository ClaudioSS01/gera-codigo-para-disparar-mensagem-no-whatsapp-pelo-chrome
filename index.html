
async function enviar_mensagens_para_todos_os_numeros() {
    var numeros = ["11989990967","5511989990967","+5511989990967","+55 1198999-0967"];
    var mensagem = 'Sua mensagem aqui';

    for (let numero of numeros) {
        try {
            // Remover prefixos inválidos e formatar número
            numero = numero.replace(/^\+55|^55|^055/, ''); // Remove prefixos +55, 55, 055
            numero = numero.replace(/[^0-9]/g, ''); // Remove caracteres não numéricos

            var msgtratada = mensagem.replace(/ /g, '%20');

            var el = document.createElement('a');
            el.setAttribute('href', "https://api.whatsapp.com/send?phone=55" + numero + "&text=" + msgtratada);
            el.style.display = 'none';
            document.body.appendChild(el);
            el.click();

            console.log('Enviando mensagem para o número:', '55' + numero);
            console.log('Mensagem:', mensagem);

            // Esperar um pouco antes de clicar no botão de enviar
            await new Promise(resolve => setTimeout(resolve, 1500));

            // Clicar no botão de enviar
            var sendButton = document.querySelector('span[data-icon="send"]');
            if (sendButton) {
                sendButton.click();
            } else {
                console.log('Botão de enviar não encontrado para o número:', numero);
            }

            // Remover o link depois de um tempo
            setTimeout(function () {
                document.body.removeChild(el);
            }, 1500);

            // Esperar um tempo antes de enviar a próxima mensagem
            await new Promise(resolve => setTimeout(resolve, 2500));
        } catch (error) {
            console.log('Erro ao enviar mensagem para o número:', numero, 'Erro:', error);
            continue; // Pular para o próximo número
        }
    }
}

enviar_mensagens_para_todos_os_numeros();
